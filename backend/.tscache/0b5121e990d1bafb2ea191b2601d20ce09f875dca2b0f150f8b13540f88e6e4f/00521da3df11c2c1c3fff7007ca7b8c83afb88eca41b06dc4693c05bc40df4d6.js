"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const { Sequelize, QueryTypes } = require("sequelize");
//const db = createModels(sequelizeConfig);
//const sequelize=db.Sequelize;
const sequelize = new Sequelize("bessamDB", "phpmyadmin", "tgbyhnuj", {
    host: "localhost",
    dialect: "mysql",
    port: 3306,
    pool: {
        max: 5,
        min: 0,
        idle: 20000,
        acquire: 20000,
    },
});
//const test = db.Test
var formidable = require("formidable");
var http = require("http"), util = require("util"), os = require("os");
//const pwd= require('./password.js');
//const transporter = require('./transporter.js');
var message = "";
const log = console.log;
function lance_scp(filename) {
    const host_to = process.env.host_to;
    const user_to = process.env.user_to;
    const password_to = process.env.password_to;
    const directory_from = process.env.directory_logo_from;
    const directory_to = process.env.directory_logo_to;
    var client = require("scp2");
    client.scp(directory_from + filename, {
        host: host_to,
        username: user_to,
        password: password_to,
        //privateKey:`AAAAB3NzaC1kc3MAAACBAMcAd9W3Bh+QkIlLTecjireTVq2k5pmENNIUtDj30P1W0Uw2xkbHj1lx5gAPXXizg+6OdFdt7Gk0niJplWrQTCucN1DcFRPAo2sbliGvqFr12zrX3oMV8xaKs9j1hAh7gzhYdYyU7Mx25soxmRh6qr0HAzjbeBTrsUTrTpGlm/o9AAAAFQDFT6UPIPuV7Gy3pVaLbWMq3WUiMwAAAIB3+wBXXe9mT8dcd/GPRSXG2NHk13CxyNI/GMOghFOn2z4WsqAHLCDouZO189x/yytK6vjrq2kQF7EDZpKPsmj98sIzatT+mrUgLpsrvSu/fCRw4IZpx5+OyjNjvLs9YNbrgprWZrx54vGqIM8Ec+RBsEVTqIj/3cIyZN0UJU4jbAAAAIEAl8zCmcLdKrKqezh9ipLxQIs6ZT21AGP+ziYkbp+2uh5m6V3/3RpS4Dtu3ny1vs6gO/wEfvjcRDD6knxcPJso2Ezu5mndM3sP2x81yFQhekYNHsF3diwbQ3KJQgLV32UZ5FEL2uP1Hj4BWKv4owCML3apxFo1cHSdqksmaNEBHWo`,
        path: directory_to,
    }, function (err) { });
}
module.exports = {
    getImage(req, res) {
        sequelize
            .query("SELECT * FROM  Image", 
        // Test table
        { type: sequelize.QueryTypes.SELECT }, {})
            .then((te) => res.status(200).send(te[0]))
            .catch((error) => res.status(400).send(error));
    },
    getNameImg(req, res) {
        sequelize
            .query("SELECT Image.nom FROM  Image INNER JOIN Hotel ON Image.hotel_id = Hotel.id WHERE Hotel.nom = '" + req.params.id + "'", 
        // Test table
        { type: sequelize.QueryTypes.SELECT }, {})
            .then((te) => res.status(200).send(te))
            .catch((error) => res.status(400).send(error));
    },
    getHotel(req, res) {
        sequelize
            .query("SELECT * FROM  Hotel", 
        // Test table
        { type: sequelize.QueryTypes.SELECT }, {})
            .then((te) => res.status(200).send(te[0]))
            .catch((error) => res.status(400).send(error));
    },
    getHotelName(req, res) {
        sequelize
            .query("SELECT Hotel.nom FROM  Hotel WHERE Hotel.id = '" + req.params.id + "'", 
        // Test table
        { type: sequelize.QueryTypes.SELECT }, {})
            .then((te) => res.status(200).send(te))
            .catch((error) => res.status(400).send(error));
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL3Zhci93d3cvaHRtbC9hcGlfdHJhbnNmZXJzL3NlcnZlci9jb250cm9sbGVycy9pbWFnZS50cyIsInNvdXJjZXMiOlsiL3Zhci93d3cvaHRtbC9hcGlfdHJhbnNmZXJzL3NlcnZlci9jb250cm9sbGVycy9pbWFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBR3ZELDJDQUEyQztBQUUzQywrQkFBK0I7QUFDL0IsTUFBTSxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUMsVUFBVSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUU7SUFDcEUsSUFBSSxFQUFFLFdBQVc7SUFDakIsT0FBTyxFQUFFLE9BQU87SUFDaEIsSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUU7UUFDSixHQUFHLEVBQUUsQ0FBQztRQUNOLEdBQUcsRUFBRSxDQUFDO1FBQ04sSUFBSSxFQUFFLEtBQUs7UUFDWCxPQUFPLEVBQUUsS0FBSztLQUNmO0NBQ0YsQ0FBQyxDQUFDO0FBQ0gsc0JBQXNCO0FBRXRCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUV2QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQ3hCLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQ3RCLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckIsc0NBQXNDO0FBQ3RDLGtEQUFrRDtBQUNsRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDakIsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUV4QixTQUFTLFNBQVMsQ0FBQyxRQUFRO0lBQ3pCLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQ3BDLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMs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QUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7YUFFdEMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ2pELENBQUM7Q0FFRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBTZXF1ZWxpemUsIFF1ZXJ5VHlwZXMgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG4vL2NvbnN0IHNlcXVlbGl6ZUNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZy9zZXF1ZWxpemVDb25maWcuanNvbicpO1xuaW1wb3J0IHsgY3JlYXRlTW9kZWxzIH0gZnJvbSBcIi4uL21vZGVscy10c1wiO1xuLy9jb25zdCBkYiA9IGNyZWF0ZU1vZGVscyhzZXF1ZWxpemVDb25maWcpO1xuXG4vL2NvbnN0IHNlcXVlbGl6ZT1kYi5TZXF1ZWxpemU7XG5jb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFwiYmVzc2FtREJcIiwgXCJwaHBteWFkbWluXCIsIFwidGdieWhudWpcIiwge1xuICBob3N0OiBcImxvY2FsaG9zdFwiLFxuICBkaWFsZWN0OiBcIm15c3FsXCIsXG4gIHBvcnQ6IDMzMDYsXG4gIHBvb2w6IHtcbiAgICBtYXg6IDUsXG4gICAgbWluOiAwLFxuICAgIGlkbGU6IDIwMDAwLFxuICAgIGFjcXVpcmU6IDIwMDAwLFxuICB9LFxufSk7XG4vL2NvbnN0IHRlc3QgPSBkYi5UZXN0XG5cbnZhciBmb3JtaWRhYmxlID0gcmVxdWlyZShcImZvcm1pZGFibGVcIik7XG5cbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIiksXG4gIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKSxcbiAgb3MgPSByZXF1aXJlKFwib3NcIik7XG4vL2NvbnN0IHB3ZD0gcmVxdWlyZSgnLi9wYXNzd29yZC5qcycpO1xuLy9jb25zdCB0cmFuc3BvcnRlciA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0ZXIuanMnKTtcbnZhciBtZXNzYWdlID0gXCJcIjtcbmNvbnN0IGxvZyA9IGNvbnNvbGUubG9nO1xuXG5mdW5jdGlvbiBsYW5jZV9zY3AoZmlsZW5hbWUpIHtcbiAgY29uc3QgaG9zdF90byA9IHByb2Nlc3MuZW52Lmhvc3RfdG87XG4gIGNvbnN0IHVzZXJfdG8gPSBwcm9jZXNzLmVudi51c2VyX3RvO1xuICBjb25zdCBwYXNzd29yZF90byA9IHByb2Nlc3MuZW52LnBhc3N3b3JkX3RvO1xuICBjb25zdCBkaXJlY3RvcnlfZnJvbSA9IHByb2Nlc3MuZW52LmRpcmVjdG9yeV9sb2dvX2Zyb207XG4gIGNvbnN0IGRpcmVjdG9yeV90byA9IHByb2Nlc3MuZW52LmRpcmVjdG9yeV9sb2dvX3RvO1xuXG4gIHZhciBjbGllbnQgPSByZXF1aXJlKFwic2NwMlwiKTtcbiAgY2xpZW50LnNjcChcbiAgICBkaXJlY3RvcnlfZnJvbSArIGZpbGVuYW1lLFxuICAgIHtcbiAgICAgIGhvc3Q6IGhvc3RfdG8sXG4gICAgICB1c2VybmFtZTogdXNlcl90byxcbiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZF90byxcbiAgICAgIC8vcHJpdmF0ZUtleTpgQUFBQUIzTnphQzFrYzNNQUFBQ0JBTWNBZDlXM0JoK1FrSWxMVGVjamlyZVRWcTJrNXBtRU5OSVV0RGozMFAxVzBVdzJ4a2JIajFseDVnQVBYWGl6Zys2T2RGZHQ3R2swbmlKcGxXclFUQ3VjTjFEY0ZSUEFvMnNibGlHdnFGcjEyenJYM29NVjh4YUtzOWoxaEFoN2d6aFlkWXlVN014MjVzb3htUmg2cXIwSEF6amJlQlRyc1VUclRwR2xtL285QUFBQUZRREZUNlVQSVB1VjdHeTNwVmFMYldNcTNXVWlNd0FBQUlCMyt3QlhYZTltVDhkY2QvR1BSU1hHMk5IazEzQ3h5TkkvR01PZ2hGT24yejRXc3FBSExDRG91Wk8xODl4L3l5dEs2dmpycTJrUUY3RURacEtQc21qOThzSXphdFQrbXJVZ0xwc3J2U3UvZkNSdzRJWnB4NStPeWpOanZMczlZTmJyZ3ByV1pyeDU0dkdxSU04RWMrUkJzRVZUcUlqLzNjSXlaTjBVSlU0amJBQUFBSUVBbDh6Q21jTGRLcktxZXpoOWlwTHhRSXM2WlQyMUFHUCt6aVlrYnArMnVoNW02VjMvM1JwUzREdHUzbnkxdnM2Z08vd0VmdmpjUkRENmtueGNQSnNvMkV6dTVtbmRNM3NQMng4MXlGUWhla1lOSHNGM2Rpd2JRM0tKUWdMVjMyVVo1RkVMMnVQMUhqNEJXS3Y0b3dDTUwzYXB4Rm8xY0hTZHFrc21hTkVCSFdvYCxcbiAgICAgIHBhdGg6IGRpcmVjdG9yeV90byxcbiAgICB9LFxuICAgIGZ1bmN0aW9uIChlcnIpIHt9XG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRJbWFnZShyZXEsIHJlcykge1xuICAgIHNlcXVlbGl6ZVxuICAgICAgLnF1ZXJ5KFxuICAgICAgICBcIlNFTEVDVCAqIEZST00gIEltYWdlXCIsXG4gICAgICAgIC8vIFRlc3QgdGFibGVcbiAgICAgICAgeyB0eXBlOiBzZXF1ZWxpemUuUXVlcnlUeXBlcy5TRUxFQ1QgfSxcbiAgICAgICAge31cbiAgICAgIClcbiAgICAgIC50aGVuKCh0ZSkgPT4gcmVzLnN0YXR1cygyMDApLnNlbmQodGVbMF0pKVxuXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvcikpO1xuICB9LFxuICBnZXROYW1lSW1nKHJlcSxyZXMpIHtcbiAgICBzZXF1ZWxpemVcbiAgICAucXVlcnkoXG4gICAgICBcIlNFTEVDVCBJbWFnZS5ub20gRlJPTSAgSW1hZ2UgSU5ORVIgSk9JTiBIb3RlbCBPTiBJbWFnZS5ob3RlbF9pZCA9IEhvdGVsLmlkIFdIRVJFIEhvdGVsLm5vbSA9ICdcIityZXEucGFyYW1zLmlkK1wiJ1wiLFxuICAgICAgLy8gVGVzdCB0YWJsZVxuICAgICAgeyB0eXBlOiBzZXF1ZWxpemUuUXVlcnlUeXBlcy5TRUxFQ1QgfSxcbiAgICAgIHt9XG4gICAgKVxuICAgIC50aGVuKCh0ZSkgPT4gcmVzLnN0YXR1cygyMDApLnNlbmQodGUpKVxuXG4gICAgLmNhdGNoKChlcnJvcikgPT4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IpKTtcbiAgfSxcbiAgZ2V0SG90ZWwocmVxLCByZXMpIHtcbiAgICBzZXF1ZWxpemVcbiAgICAgIC5xdWVyeShcbiAgICAgICAgXCJTRUxFQ1QgKiBGUk9NICBIb3RlbFwiLFxuICAgICAgICAvLyBUZXN0IHRhYmxlXG4gICAgICAgIHsgdHlwZTogc2VxdWVsaXplLlF1ZXJ5VHlwZXMuU0VMRUNUIH0sXG4gICAgICAgIHt9XG4gICAgICApXG4gICAgICAudGhlbigodGUpID0+IHJlcy5zdGF0dXMoMjAwKS5zZW5kKHRlWzBdKSlcblxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IpKTtcbiAgfSxcblxuICBnZXRIb3RlbE5hbWUocmVxLHJlcykge1xuICAgIHNlcXVlbGl6ZVxuICAgIC5xdWVyeShcbiAgICAgIFwiU0VMRUNUIEhvdGVsLm5vbSBGUk9NICBIb3RlbCBXSEVSRSBIb3RlbC5pZCA9ICdcIityZXEucGFyYW1zLmlkK1wiJ1wiLFxuICAgICAgLy8gVGVzdCB0YWJsZVxuICAgICAgeyB0eXBlOiBzZXF1ZWxpemUuUXVlcnlUeXBlcy5TRUxFQ1QgfSxcbiAgICAgIHt9XG4gICAgKVxuICAgIC50aGVuKCh0ZSkgPT4gcmVzLnN0YXR1cygyMDApLnNlbmQodGUpKVxuXG4gICAgLmNhdGNoKChlcnJvcikgPT4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IpKTtcbiAgfVxuICBcbn07XG4iXX0=